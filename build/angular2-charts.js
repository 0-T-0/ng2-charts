webpackJsonp([2],{0:function(t,e,r){t.exports=r(12)},12:function(t,e,r){function i(t){for(var r in t)e.hasOwnProperty(r)||(e[r]=t[r])}i(r(95))},95:function(t,e,r){var i=this&&this.__decorate||function(t,e,r,i){var o,a=arguments.length,n=3>a?e:null===i?i=Object.getOwnPropertyDescriptor(e,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,r,i);else for(var h=t.length-1;h>=0;h--)(o=t[h])&&(n=(3>a?o(n):a>3?o(e,r,n):o(e,r))||n);return a>3&&n&&Object.defineProperty(e,r,n),n},o=this&&this.__metadata||function(t,e){return"object"==typeof Reflect&&"function"==typeof Reflect.metadata?Reflect.metadata(t,e):void 0},a=r(2),n=r(6),h=function(){function t(t){}return t=i([a.Component({selector:"chart, canvas[chart]",template:"<canvas></canvas>",directives:[n.CORE_DIRECTIVES,n.NgClass]}),o("design:paramtypes",[a.ElementRef])],t)}();e.Charts=h;var l=function(){function t(t){this.element=t,this._data=[],this.labels=[],this.options={responsive:!0},this.series=[],this.colours=[],this.initFlag=!1,this.chartClick=new a.EventEmitter,this.chartHover=new a.EventEmitter,this.defaultsColours=[{fillColor:"rgba(151,187,205,0.2)",strokeColor:"rgba(151,187,205,1)",pointColor:"rgba(151,187,205,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(151,187,205,0.8)",color:"rgba(151,187,205,1)",highlight:"rgba(151,187,205,0.8)"},{fillColor:"rgba(220,220,220,0.2)",strokeColor:"rgba(220,220,220,1)",pointColor:"rgba(220,220,220,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(220,220,220,0.8)",color:"rgba(220,220,220,1)",highlight:"rgba(220,220,220,0.8)"},{fillColor:"rgba(247,70,74,0.2)",strokeColor:"rgba(247,70,74,1)",pointColor:"rgba(247,70,74,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(247,70,74,0.8)",color:"rgba(247,70,74,1)",highlight:"rgba(247,70,74,0.8)"},{fillColor:"rgba(70,191,189,0.2)",strokeColor:"rgba(70,191,189,1)",pointColor:"rgba(70,191,189,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(70,191,189,0.8)",color:"rgba(70,191,189,1)",highlight:"rgba(70,191,189,0.8)"},{fillColor:"rgba(253,180,92,0.2)",strokeColor:"rgba(253,180,92,1)",pointColor:"rgba(253,180,92,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(253,180,92,0.8)",color:"rgba(253,180,92,1)",highlight:"rgba(253,180,92,0.8)"},{fillColor:"rgba(148,159,177,0.2)",strokeColor:"rgba(148,159,177,1)",pointColor:"rgba(148,159,177,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(148,159,177,0.8)",color:"rgba(148,159,177,1)",highlight:"rgba(148,159,177,0.8)"},{fillColor:"rgba(77,83,96,0.2)",strokeColor:"rgba(77,83,96,1)",pointColor:"rgba(77,83,96,1)",pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:"rgba(77,83,96,0.8)",color:"rgba(77,83,96,1)",highlight:"rgba(77,83,96,0.8)"}]}return t.prototype.ngOnInit=function(){console.log("I should be here "+this.chartType),this.ctx=this.element.nativeElement.children[0].getContext("2d"),this.cvs=this.element.nativeElement.children[0],this.parent=this.element.nativeElement,this.refresh(),this.initFlag=!0},t.prototype.ngOnDestroy=function(){this.chart&&(this.chart.destroy(),this.chart=null),this.legendTemplate&&(this.legendTemplate.destroy(),this.legendTemplate=null)},Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t,this.initFlag&&this._data&&this._data.length>0&&this.refresh()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"chartType",{get:function(){return this._chartType},set:function(t){this._chartType=t,this.initFlag&&this._chartType&&this._chartType.length>0&&this.refresh()},enumerable:!0,configurable:!0}),t.prototype.setLegend=function(){var t=this.parent.getElementsByTagName("ul");t.length?(t[0].remove(),this.parent.insertAdjacentHTML("beforeend",this.chart.generateLegend())):this.parent.insertAdjacentHTML("beforeend",this.chart.generateLegend())},t.prototype.getColour=function(t){return{fillColor:this.rgba(t,.2),strokeColor:this.rgba(t,1),pointColor:this.rgba(t,1),pointStrokeColor:"#fff",pointHighlightFill:"#fff",pointHighlightStroke:this.rgba(t,.8),color:this.rgba(t,1),highlight:this.rgba(t,.8)}},t.prototype.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t+1))+t},t.prototype.rgba=function(t,e){return"rgba("+t.concat(e).join(",")+")"},t.prototype.click=function(t){var e=this.chart.getPointsAtEvent||this.chart.getBarsAtEvent||this.chart.getSegmentsAtEvent,r=e.call(this.chart,t);if(r.length>0){var i=r[0].label;this.chartClick.emit({activePoints:r,activeLabel:i})}else console.log("not point")},t.prototype.hover=function(t){var e=this.chart.getPointsAtEvent||this.chart.getBarsAtEvent||this.chart.getSegmentsAtEvent,r=e.call(this.chart,t);if(r.length>0){var i=r[0].label,o=r[0].value;this.chartHover.emit({activePoints:r,activePoint:o,activeLabel:i})}else console.log("not point")},t.prototype.getChartBuilder=function(t,e,r){return new Chart(t)[this.chartType](e,r)},t.prototype.getDataObject=function(t,e){return"Line"===this.chartType||"Bar"===this.chartType||"Radar"===this.chartType?{label:t,data:e}:"Pie"===this.chartType||"Doughnut"===this.chartType||"PolarArea"===this.chartType?{label:t,value:e}:null},t.prototype.getChartData=function(t,e){return"Line"===this.chartType||"Bar"===this.chartType||"Radar"===this.chartType?{labels:t,datasets:e}:"Pie"===this.chartType||"Doughnut"===this.chartType||"PolarArea"===this.chartType?e:void 0},t.prototype.refresh=function(){this.ngOnDestroy();for(var t=[],e=0;e<this.data.length;e++){var r=[this.getRandomInt(0,255),this.getRandomInt(0,255),this.getRandomInt(0,255)],i=e<this.colours.length?this.colours[e]:this.defaultsColours[e]||this.getColour(r),o=Object.assign(i,this.getDataObject(this.series[e]||this.labels[e],this.data[e]));t.push(o)}var a=this.getChartData(this.labels,t);this.chart=this.getChartBuilder(this.ctx,a,this.options),this.legend&&this.setLegend()},t=i([a.Component({selector:"base-chart",properties:["data","labels","series","colours","chartType","legend","options"],events:["chartClick","chartHover"],template:'\n  <canvas style="width: 100%; height: 100%;" (click)="click($event)" (mousemove)="hover($event)"></canvas>\n  ',directives:[n.CORE_DIRECTIVES,n.FORM_DIRECTIVES,n.NgClass]}),o("design:paramtypes",[a.ElementRef])],t)}();e.BaseChart=l,e.CHART_DIRECTIVES=[h,l]}});
//# sourceMappingURL=angular2-charts.js.map